{"version":3,"file":"ExportCSS.js","sourceRoot":"","sources":["../../../../../src/.internal/core/export/ExportCSS.ts"],"names":[],"mappings":"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","sourcesContent":["import { StyleRule, StyleClass } from \"../utils/DOM\";\r\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { MultiDisposer, IDisposer, CounterDisposer } from \"../utils/Disposer\";\r\n\r\nconst rules = new Dictionary<string, CounterDisposer>();\r\n\r\n/**\r\n * A dynamically-loadable CSS module for Export menu.\r\n *\r\n * @ignore Exclude from docs\r\n * @param  {string}     prefix  Prefix to addtach to class names\r\n * @return {IDisposer}          A MultiDisposer with style rules\r\n */\r\nexport default function (prefix?: string): IDisposer {\r\n\tif (!prefix) {\r\n\t\tprefix = \"amexport\";\r\n\t}\r\n\r\n\tlet colorSet = new InterfaceColorSet();\r\n\tlet fill = colorSet.getFor(\"fill\");\r\n\tlet border = colorSet.getFor(\"stroke\");\r\n\r\n\tconst counter = rules.insertKeyIfEmpty(prefix, () => {\r\n\t\tconst disposer = new MultiDisposer([\r\n\r\n\t\t\t/*new StyleRule(`.${prefix}-menu`, {\r\n\t\t\t\t\"opacity\": \"0.3\",\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`div:hover .${prefix}-menu, .${prefix}-menu.active`, {\r\n\t\t\t\t\"opacity\": \"0.9\",\r\n\t\t\t}),*/\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu-level-0`, {\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"5px\",\r\n\t\t\t\t\"right\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu-level-0.${prefix}-left`, {\r\n\t\t\t\t\"right\": \"auto\",\r\n\t\t\t\t\"left\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu-level-0.${prefix}-right`, {\r\n\t\t\t\t\"right\": \"5px\",\r\n\t\t\t\t\"left\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu-level-0.${prefix}-top`, {\r\n\t\t\t\t\"top\": \"5px\",\r\n\t\t\t\t\"bottom\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu-level-0.${prefix}-bottom`, {\r\n\t\t\t\t\"top\": \"auto\",\r\n\t\t\t\t\"bottom\": \"5px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item.${prefix}-item-level-0`, {\r\n\t\t\t\t\"opacity\": \"0.3\",\r\n\t\t\t\t\"width\": \"30px\",\r\n\t\t\t\t\"height\": \"30px\",\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out\",\r\n\t\t\t\t//\"text-indent\": \"-9999px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`div:hover .${prefix}-item.${prefix}-item-level-0, .${prefix}-item.${prefix}-item-level-0.active`, {\r\n\t\t\t\t\"opacity\": \"0.9\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item.${prefix}-item-level-0 > a`, {\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t\t\"text-align\": \"center\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item.${prefix}-item-level-0:before`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"content\": \"...\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item`, {\r\n\t\t\t\t\"position\": \"relative\",\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"opacity\": \"0\",\r\n\t\t\t\t\"z-index\": \"1\",\r\n\t\t\t\t\"border-radius\": \"3px\",\r\n\t\t\t\t\"background-color\": colorSet.getFor(\"secondaryButton\").hex,\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t\t\"margin\": \"1px 1px 0 0\",\r\n\t\t\t\t\"color\": colorSet.getFor(\"secondaryButton\").alternative.hex,\r\n\t\t\t\t\"transition\": \"all 100ms ease-in-out, opacity 0.5s ease 0.5s\",\r\n\t\t\t\t\"width\": \"initial\",\r\n\t\t\t\t\"height\": \"initial\",\r\n\t\t\t\t\"text-indent\": \"initial\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-left .${prefix}-item`, {\r\n\t\t\t\t\"margin\": \"1px 0 0 1px\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item:hover, .${prefix}-item.active`, {\r\n\t\t\t\t\"background\": colorSet.getFor(\"secondaryButtonHover\").hex,\r\n\t\t\t\t\"color\": colorSet.getFor(\"secondaryButtonText\").hex,\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"-1px\",\r\n\t\t\t\t\"right\": \"0\",\r\n\t\t\t\t\"margin-right\": \"100%\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-left .${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"left\": \"0\",\r\n\t\t\t\t\"right\": \"auto\",\r\n\t\t\t\t\"margin-left\": \"100%\",\r\n\t\t\t\t\"margin-right\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-right .${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"left\": \"auto\",\r\n\t\t\t\t\"right\": \"0\",\r\n\t\t\t\t\"margin-left\": \"auto\",\r\n\t\t\t\t\"margin-right\": \"100%\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-top .${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"top\": \"-1px\",\r\n\t\t\t\t\"bottom\": \"auto\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-bottom .${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"top\": \"auto\",\r\n\t\t\t\t\"bottom\": \"0\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item > .${prefix}-menu`, {\r\n\t\t\t\t\"display\": \"none\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item:hover > .${prefix}-menu, .${prefix}-item.active > .${prefix}-menu`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-item:hover > .${prefix}-menu > .${prefix}-item, .${prefix}-item.active > .${prefix}-menu > .${prefix}-item`, {\r\n\t\t\t\t\"opacity\": \"1\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-menu`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"list-style\": \"none\",\r\n\t\t\t\t\"margin\": \"0\",\r\n\t\t\t\t\"padding\": \"0\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-label`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"cursor\": \"default\",\r\n\t\t\t\t\"padding\": \"0.5em 1em\",\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(`.${prefix}-clickable`, {\r\n\t\t\t\t\"cursor\": \"pointer\",\r\n\t\t\t}),\r\n\t\t]);\r\n\r\n\t\treturn new CounterDisposer(() => {\r\n\t\t\trules.removeKey(prefix);\r\n\t\t\tdisposer.dispose();\r\n\t\t});\r\n\t});\r\n\r\n\treturn counter.increment();\r\n}"]}