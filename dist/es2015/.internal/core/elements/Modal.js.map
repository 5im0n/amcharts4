{"version":3,"file":"Modal.js","sourceRoot":"","sources":["../../../../../src/.internal/core/elements/Modal.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * Modal class is used to display information over chart area.\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport modalCSS from \"./ModalCSS\";\r\nimport { Adapter } from \"../utils/Adapter\";\r\nimport { BaseObject } from \"../Base\";\r\nimport { getInteraction } from \"../interaction/Interaction\";\r\nimport { InteractionObject } from \"../interaction/InteractionObject\";\r\nimport { keyboard } from \"../utils/Keyboard\";\r\nimport { MultiDisposer } from \"../utils/Disposer\";\r\n\r\n/**\r\n * Represents a list of available adapters for Export.\r\n */\r\nexport interface IModalAdapters {\r\n\r\n\t/**\r\n\t * Applied to the class prefixes.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tclassPrefix: string,\r\n\r\n\t/**\r\n\t * Applied to modal content before it is shown.\r\n\t * @type {string}\r\n\t */\r\n\tcontent: string,\r\n\r\n\t/**\r\n\t * Applied to the screen reader title.\r\n\t * @type {string}\r\n\t */\r\n\treaderTitle: string,\r\n\r\n\t/**\r\n\t * Applied to default `defaultStyles` property before it is rettrieved.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tdefaultStyles: boolean,\r\n\r\n\t/**\r\n\t * Applied to class names list that are added ass `class` for various modal\r\n\t * elements.\r\n\t */\r\n\tclassNames: {\r\n\t\twrapperClass: string,\r\n\t\tcontentClass: string,\r\n\t\tcurtainClass: string,\r\n\t\tcloseClass: string\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * Shows an HTML modal which covers window or a chart area.\r\n *\r\n * @todo Positioning over whole window\r\n */\r\nexport class Modal extends BaseObject {\r\n\r\n\t/**\r\n\t * Adapter.\r\n\t *\r\n\t * @type {Adapter<Modal, IModalAdapters>}\r\n\t */\r\n\tpublic adapter: Adapter<Modal, IModalAdapters> = new Adapter<Modal, IModalAdapters>(this);\r\n\r\n\t/**\r\n\t * A reference to an HTML element to be used for container. If not set, modal\r\n\t * will cover the whole window.\r\n\t *\r\n\t * @type {HTMLElement}\r\n\t */\r\n\tpublic container: HTMLElement | Document;\r\n\r\n\t/**\r\n\t * A top element in modal.\r\n\t *\r\n\t * @type {HTMLElement}\r\n\t */\r\n\tprotected _element: HTMLElement;\r\n\r\n\t/**\r\n\t * A content wrapper element.\r\n\t *\r\n\t * @type {HTMLElement}\r\n\t */\r\n\tprotected _contentWrapperElement: HTMLElement;\r\n\r\n\t/**\r\n\t * A content element.\r\n\t *\r\n\t * @type {HTMLElement}\r\n\t */\r\n\tprotected _contentElement: HTMLElement;\r\n\r\n\t/**\r\n\t * Holds [[InteractionObject]] representation of modal curtain element.\r\n\t *\r\n\t * @type {InteractionObject}\r\n\t */\r\n\tprotected _curtainIO: InteractionObject;\r\n\r\n\t/**\r\n\t * Holds [[InteractionObject]] representation of the close button element.\r\n\t *\r\n\t * @type {InteractionObject}\r\n\t */\r\n\tprotected _closeIO: InteractionObject;\r\n\r\n\t/**\r\n\t * Contents of modal window.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tprotected _content: string = \"\";\r\n\r\n\t/**\r\n\t * Prefix to apply to class names for modal elements.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tprotected _classPrefix: string = \"ammodal\"\r\n\r\n\t/**\r\n\t * If set to `true` [[Modal]] will use default styles.\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tprotected _defaultStyles: boolean = true;\r\n\r\n\t/**\r\n\t * A title for screen readers. It is very highly recommended to set that title\r\n\t * so that people using screen reader tools can get an immediate summary of\r\n\t * the information in the modal.\r\n\t *\r\n\t * @type {string}\r\n\t */\r\n\tpublic readerTitle: string = \"\";\r\n\r\n\t/**\r\n\t * Is modal closable?\r\n\t *\r\n\t * @type {boolean}\r\n\t */\r\n\tprivate _closable: boolean = true;\r\n\r\n\t/**\r\n\t * Shows modal window.\r\n\t */\r\n\tpublic show(): void {\r\n\t\tif (this.container) {\r\n\t\t\tthis.container.appendChild(this.element);\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Hides modal window.\r\n\t */\r\n\tpublic hide(): void {\r\n\t\tif (this.element && this.element.parentElement) {\r\n\t\t\tthis.element.parentElement.removeChild(this.element);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Destroy (dispose) modal.\r\n\t */\r\n\tpublic dispose(): void {\r\n\t\tsuper.dispose();\r\n\t\tthis.hide();\r\n\t}\r\n\r\n\t/**\r\n\t * Creates and returns an HTML holder element for modal (`<div>`).\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return {HTMLElement} Modal holder element\r\n\t */\r\n\tpublic get element(): HTMLElement {\r\n\t\tif (!this._element) {\r\n\r\n\t\t\t// Get class names for modal elements\r\n\t\t\tlet classNames = this.adapter.apply(\"classNames\", {\r\n\t\t\t\twrapperClass: this.classPrefix + \"\",\r\n\t\t\t\tcontentClass: this.classPrefix + \"-content\",\r\n\t\t\t\tcurtainClass: this.classPrefix + \"-curtain\",\r\n\t\t\t\tcloseClass: this.classPrefix + \"-close\"\r\n\t\t\t});\r\n\r\n\t\t\t// Create the wrapper\r\n\t\t\tlet wrapper = document.createElement(\"div\");\r\n\t\t\twrapper.className = classNames.wrapperClass;\r\n\r\n\t\t\t// See if we're loading external CSS\r\n\t\t\t// Hide it until CSS is loaded\r\n\t\t\tif (this.defaultStyles) {\r\n\t\t\t\twrapper.style.display = \"none\";\r\n\t\t\t}\r\n\r\n\t\t\t// Create the curtain\r\n\t\t\tlet curtain = document.createElement(\"div\");\r\n\t\t\tcurtain.className = classNames.curtainClass;\r\n\r\n\t\t\t// Append curtain to wrapper\r\n\t\t\twrapper.appendChild(curtain);\r\n\r\n\t\t\t// Create an InteractionObject for curtain because we might need to\r\n\t\t\t// set interactions on it\r\n\t\t\tthis._curtainIO = getInteraction().getInteraction(curtain);\r\n\r\n\t\t\t// Create content element\r\n\t\t\tlet contentWrapper = document.createElement(\"div\");\r\n\t\t\tcontentWrapper.className = classNames.contentClass;\r\n\r\n\t\t\t// Create close button\r\n\t\t\tlet close = document.createElement(\"a\");\r\n\t\t\tclose.className = classNames.closeClass;\r\n\r\n\t\t\t// Content div\r\n\t\t\tlet content = document.createElement(\"div\");\r\n\t\t\tcontent.innerHTML = this.content;\r\n\r\n\t\t\t// Append close to content wrapper\r\n\t\t\tcontentWrapper.appendChild(close);\r\n\r\n\t\t\t// Create an InteractionObject for close\r\n\t\t\tthis._closeIO = getInteraction().getInteraction(close);\r\n\r\n\t\t\t// Hide close for now\r\n\t\t\tclose.style.visibility = \"hidden\";\r\n\r\n\t\t\t// Add accessible stuff\r\n\t\t\tcontent.setAttribute(\"role\", \"dialog\");\r\n\t\t\tcontent.setAttribute(\"aria-label\", this.adapter.apply(\"readerTitle\", this.readerTitle));\r\n\r\n\t\t\t// Add to wrapper\r\n\t\t\tcontentWrapper.appendChild(content);\r\n\t\t\twrapper.appendChild(contentWrapper);\r\n\r\n\t\t\t// Set references for easy access later on\r\n\t\t\tthis._element = wrapper;\r\n\t\t\tthis._contentElement = content;\r\n\t\t\tthis._contentWrapperElement = contentWrapper;\r\n\r\n\t\t\t// Add IOs to disposers\r\n\t\t\tthis._disposers.push(this._curtainIO);\r\n\t\t\tthis._disposers.push(this._closeIO);\r\n\r\n\t\t\t// Apply events\r\n\t\t\tthis._applyEvents();\r\n\r\n\t\t\t// Load CSS\r\n\t\t\tif (this.defaultStyles) {\r\n\t\t\t\tthis.loadDefaultCSS();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this._element;\r\n\t}\r\n\r\n\t/**\r\n\t * Positions content element in the center of modal based on its actual size.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic positionElement(): void {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis._contentWrapperElement.style.left = \"0\";\r\n\t\t\tthis._contentWrapperElement.style.top = \"0\";\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet bbox = this._contentWrapperElement.getBoundingClientRect();\r\n\t\t\t\tthis._contentWrapperElement.style.left = \"50%\";\r\n\t\t\t\tthis._contentWrapperElement.style.top = \"50%\";\r\n\t\t\t\tthis._contentWrapperElement.style.marginLeft = Math.round(-bbox.width / 2) + \"px\";\r\n\t\t\t\tthis._contentWrapperElement.style.marginTop = Math.round(-bbox.height / 2) + \"px\";\r\n\t\t\t}, 1);\r\n\t\t}, 1);\r\n\t}\r\n\r\n\t/**\r\n\t * A prefix that is applied to class names of various modal elements.\r\n\t *\r\n\t * @return {string} Class name prefix\r\n\t */\r\n\tpublic get classPrefix(): string {\r\n\t\treturn this.adapter.apply(\"classPrefix\", this._classPrefix);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} value Class name prefix\r\n\t */\r\n\tpublic set classPrefix(value: string) {\r\n\t\tthis._classPrefix = value;\r\n\t}\r\n\r\n\t/**\r\n\t * Modal content.\r\n\t *\r\n\t * Modal contemt can be any valid HTML, including CSS.\r\n\t * @param {string} value Modal content\r\n\t */\r\n\tpublic set content(value: string) {\r\n\t\tthis._content = value;\r\n\t\tif (this._contentElement) {\r\n\t\t\tthis._contentElement.innerHTML = value;\r\n\t\t\tthis.positionElement();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return {string} Modal content\r\n\t */\r\n\tpublic get content(): string {\r\n\t\treturn this.adapter.apply(\"content\", this._content);\r\n\t}\r\n\r\n\t/**\r\n\t * Is modal closable?\r\n\t *\r\n\t * If it is, it can be closed in a number of ways, e.g. by hitting ESC key,\r\n\t * clicking curtain, or clicking the close button.\r\n\t *\r\n\t * If it is not closable, the only way to close it is via `hide()` call.\r\n\t *\r\n\t * @param {boolean} value Closable?\r\n\t */\r\n\tpublic set closable(value: boolean) {\r\n\t\tif (value !== this._closable) {\r\n\t\t\tthis._closable = value;\r\n\t\t\tthis._applyEvents();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return {boolean} Closable?\r\n\t */\r\n\tpublic get closable(): boolean {\r\n\t\treturn this._closable;\r\n\t}\r\n\r\n\t/**\r\n\t * Should modal use default CSS?\r\n\t *\r\n\t * If default CSS is disabled, an external CSS should handle the look of the\r\n\t * modal, since it will look quite out of place otherwise.\r\n\t *\r\n\t * @default true\r\n\t * @param {string} Use default CSS?\r\n\t */\r\n\tpublic set defaultStyles(value: boolean) {\r\n\t\tif (this._defaultStyles != value) {\r\n\t\t\tthis._defaultStyles = value;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @return {boolean} Use default CSS?\r\n\t */\r\n\tpublic get defaultStyles(): boolean {\r\n\t\treturn this.adapter.apply(\"defaultStyles\", this._defaultStyles);\r\n\t}\r\n\r\n\t/**\r\n\t * Loads modal CSS.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic loadDefaultCSS(): void {\r\n\t\tthis._disposers.push(modalCSS(this.classPrefix));\r\n\t\tthis._element.style.display = \"initial\";\r\n\t}\r\n\r\n\t/**\r\n\t * If modal is closable, this method adds various events to modal elements.\r\n\t */\r\n\tprotected _applyEvents(): void {\r\n\t\tif (this._closeIO) {\r\n\t\t\tif (this.closable) {\r\n\t\t\t\tthis._closeIO.element.style.visibility = \"visible\";\r\n\t\t\t\tthis._disposers.push(new MultiDisposer([\r\n\t\t\t\t\tgetInteraction().body.events.on(\"keyup\", (ev) => {\r\n\t\t\t\t\t\tif (keyboard.isKey(ev.event, \"esc\") && this.closable) {\r\n\t\t\t\t\t\t\tthis.hide()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tthis._curtainIO.events.on(\"hit\", (ev) => {\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tthis._closeIO.events.on(\"hit\", (ev) => {\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t})\r\n\t\t\t\t]));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._closeIO.element.style.visibility = \"hidden\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"]}