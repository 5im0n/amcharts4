{"version":3,"file":"Registry.js","sourceRoot":"","sources":["../../../../src/.internal/core/Registry.ts"],"names":[],"mappings":"AAOA,OAAO,EAAE,UAAU,EAAE,MAAM,oBAAoB,CAAC;AAKhD,OAAO,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAGtC;;;;;GAKG;AAEH;;;;;GAKG;AACH;IAwIC;QAtHA;;;;;WAKG;QACI,WAAM,GAAa,EAAE,CAAC;QAE7B;;;;;WAKG;QACI,iBAAY,GAAgC,EAAE,CAAC;QAEtD;;;;;WAKG;QACO,cAAS,GAAW,CAAC,CAAC;QAEhC;;;;;WAKG;QACI,sBAAiB,GAA6B,EAAE,CAAC;QAWxD;;;;;;;;;;;;WAYG;QACI,cAAS,GAAW,EAAE,CAAC;QAE7B;;;;;;OAME;QACI,mBAAc,GAAkB,EAAE,CAAC;QAE1C;;;;;;WAMG;QACI,iBAAY,GAAqB,EAAE,CAAC;QAE3C;;;;;;WAMG;QACI,oBAAe,GAAqB,EAAE,CAAC;QAE9C;;;;;;WAMG;QACI,qBAAgB,GAAqB,EAAE,CAAC;QAE/C;;;;;;WAMG;QACI,qBAAgB,GAAqB,EAAE,CAAC;QAE/C;;;;;;WAMG;QACI,qBAAgB,GAAkB,EAAE,CAAC;QAE5C;;;;;WAKG;QACI,mBAAc,GAAqB,EAAE,CAAC;QAG5C,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IAED;;;;OAIG;IACI,8BAAW,GAAlB;QACC,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;QACzB,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;QACpB,OAAO,KAAK,GAAG,GAAG,CAAC;IACpB,CAAC;IAQD,sBAAW,yBAAG;QANd;;;;;WAKG;aACH;YACC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,UAAU,EAAe,CAAC;aAC1C;YACD,OAAO,IAAI,CAAC,IAAI,CAAC;QAClB,CAAC;;;OAAA;IAED;;;;;;OAMG;IACI,2BAAQ,GAAf,UAAgB,GAAW,EAAE,KAAU;QACtC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IAED;;;;;;OAMG;IACI,2BAAQ,GAAf,UAAgB,GAAW;QAC1B,OAAO,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACjC,CAAC;IAEF,eAAC;AAAD,CAAC,AA1LD,IA0LC;;AAED;;;;GAIG;AACH,MAAM,CAAC,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC","sourcesContent":["/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ITheme } from \"../themes/ITheme\";\r\nimport { Dictionary } from \"./utils/Dictionary\";\r\nimport { Paper } from \"./rendering/Paper\";\r\nimport { Sprite } from \"./Sprite\";\r\nimport { Container } from \"./Container\";\r\nimport { Component } from \"./Component\";\r\nimport { cache } from \"./utils/Cache\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Registry is used to store miscellaneous system-wide information, like ids,\r\n * maps, themes, and registered classes.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport class Registry {\r\n\r\n\t/**\r\n\t * Unique ID of the object.\r\n\t * \r\n\t * @type {string}\r\n\t */\r\n\tpublic uid: string;\r\n\r\n\t/**\r\n\t * Holds a universal mapping collection, so that elements and their children\r\n\t * can create and look up all kinds of relations between id and object.\r\n\t *\r\n\t * @type {Dictionary<string, any>}\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tprotected _map: Dictionary<string, any>;\r\n\r\n\t/**\r\n\t * All currently applied themes. All new chart instances created will\r\n\t * automatically inherit and retain System's themes.\r\n\t *\r\n\t * @type {ITheme}\r\n\t */\r\n\tpublic themes: ITheme[] = [];\r\n\r\n\t/**\r\n\t * List of all loaded available themes.\r\n\t *\r\n\t * Whenever a theme loads, it registers itself in System's `loadedThemes`\r\n\t * collection.\r\n\t */\r\n\tpublic loadedThemes: { [index: string]: ITheme } = {};\r\n\r\n\t/**\r\n\t * An indeternal counter used to generate unique IDs.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {number}\r\n\t */\r\n\tprotected _uidCount: number = 0;\r\n\r\n\t/**\r\n\t * Keeps register of class references so that they can be instnatiated using\r\n\t * string key.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic registeredClasses: { [index: string]: any } = {};\r\n\r\n\t/**\r\n\t * A [[Paper]] instance to create elements, that are not yet ready to be\r\n\t * placed in visible DOM.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Paper}\r\n\t */\r\n\tpublic ghostPaper: Paper;\r\n\r\n\t/**\r\n\t * Number of times per second charts will be updated.\r\n\t *\r\n\t * This means that each time an element is invalidated it will wait for the\r\n\t * next cycle to be re-validated, and possibly redrawn.\r\n\t *\r\n\t * This happens every `1000 / frameRate` milliseconds.\r\n\t *\r\n\t * Reducing this number may reduce the load on the CPU, but might slightly\r\n\t * reduce smoothness of the animations.\r\n\t *\r\n\t * @type {number}\r\n\t */\r\n\tpublic frameRate: number = 60;\r\n\r\n\t\t/**\r\n\t * A list of invalid(ated) [[Sprite]] objects that need to be re-validated\r\n\t * during next cycle.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Sprite>}\r\n\t */\r\n\tpublic invalidSprites: Array<Sprite> = [];\r\n\r\n\t/**\r\n\t * Components are added to this list when their data provider changes to\r\n\t * a new one or data is added/removed from their data provider.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Component>}\r\n\t */\r\n\tpublic invalidDatas: Array<Component> = [];\r\n\r\n\t/**\r\n\t * Components are added to this list when values of their raw data change.\r\n\t * Used when we want a smooth animation from one set of values to another.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Component>}\r\n\t */\r\n\tpublic invalidRawDatas: Array<Component> = [];\r\n\r\n\t/**\r\n\t * Components are added to this list when values of their data changes\r\n\t * (but not data provider itself).\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Component>}\r\n\t */\r\n\tpublic invalidDataItems: Array<Component> = [];\r\n\r\n\t/**\r\n\t * Components are added to this list when their data range (selection) is\r\n\t * changed, e.g. zoomed.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Component>}\r\n\t */\r\n\tpublic invalidDataRange: Array<Component> = [];\r\n\r\n\t/**\r\n\t * A list of [[Sprite]] objects that have invalid(ated) positions, that need\r\n\t * to be recalculated.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Sprite>}\r\n\t */\r\n\tpublic invalidPositions: Array<Sprite> = [];\r\n\r\n\t/**\r\n\t * A list of [[Container]] objects with invalid(ated) layouts.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @type {Array<Container>}\r\n\t */\r\n\tpublic invalidLayouts: Array<Container> = [];\r\n\r\n\tconstructor() {\r\n\t\tthis.uid = this.getUniqueId();\r\n\t}\r\n\r\n\t/**\r\n\t * Generates a unique chart system-wide ID.\r\n\t *\r\n\t * @return {string} Generated ID\r\n\t */\r\n\tpublic getUniqueId(): string {\r\n\t\tlet uid = this._uidCount;\r\n\t\tthis._uidCount += 1;\r\n\t\treturn \"id-\" + uid;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a universal collection for mapping ids with objects.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @return {Dictionary<string, any>} Map collection\r\n\t */\r\n\tpublic get map(): Dictionary<string, any> {\r\n\t\tif (!this._map) {\r\n\t\t\tthis._map = new Dictionary<string, any>();\r\n\t\t}\r\n\t\treturn this._map;\r\n\t}\r\n\r\n\t/**\r\n\t * Caches value in object's cache.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param {string}  key    Key\r\n\t * @param {any}     value  Value\r\n\t */\r\n\tpublic setCache(key: string, value: any): void {\r\n\t\tcache.set(this.uid, key, value);\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves cached value.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param  {string}  key  Key\r\n\t * @return {any}          Value\r\n\t */\r\n\tpublic getCache(key: string): any {\r\n\t\treturn cache.get(this.uid, key);\r\n\t}\r\n\r\n}\r\n\r\n/**\r\n * A singleton global instance of [[Registry]].\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport let registry = new Registry();"]}